<div class="min-h-screen bg-slate-100 text-slate-900 flex items-center justify-center p-4">
  <div class="w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-sm space-y-4">
    <div class="space-y-1">
      <div class="text-2xl font-semibold">{{ title() }}</div>
      <div class="text-sm text-slate-500">Selecciona el modo y entra</div>
    </div>

    <div class="flex flex-wrap gap-2">
      <button (click)="go('platform')" [class]="mode() === 'platform' ? 'border-slate-900 bg-slate-900 text-white' : 'border-slate-200 bg-white text-slate-700 hover:bg-slate-50'"
              class="rounded-lg border px-3 py-2 text-sm"
              type="button">
        Platform
      </button>

      <button (click)="go('user')" [class]="mode() === 'user' ? 'border-slate-900 bg-slate-900 text-white' : 'border-slate-200 bg-white text-slate-700 hover:bg-slate-50'"
              class="rounded-lg border px-3 py-2 text-sm"
              type="button">
        Tenant
      </button>

      <button (click)="go('client')" [class]="mode() === 'client' ? 'border-slate-900 bg-slate-900 text-white' : 'border-slate-200 bg-white text-slate-700 hover:bg-slate-50'"
              class="rounded-lg border px-3 py-2 text-sm"
              type="button">
        Client
      </button>
    </div>

    <form (ngSubmit)="submit()" [formGroup]="form" class="space-y-3">
      <div class="space-y-1">
        <label class="text-sm font-medium text-slate-700">Email</label>
        <input
          class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400"
          formControlName="email"/>
      </div>

      <div class="space-y-1">
        <label class="text-sm font-medium text-slate-700">Password</label>
        <input
          class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400"
          formControlName="password" type="password"/>
      </div>

      <div *ngIf="mode() !== 'platform'" class="space-y-1">
        <label class="text-sm font-medium text-slate-700">Empresa id</label>
        <input
          class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400"
          formControlName="empresa_id" placeholder="Requerido para client" type="number"/>
      </div>

      <button [disabled]="loading() || form.invalid"
              class="w-full inline-flex items-center justify-center gap-2 rounded-lg bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:opacity-60"
              type="submit">
        <span class="material-symbols-outlined text-base">login</span>
        Entrar
      </button>

      <div *ngIf="error()" class="rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700">
        {{ error() }}
      </div>
    </form>

    <div class="text-xs text-slate-500">
      Si el backend pide empresa_id para tenant user, coloca el id.
    </div>
  </div>
</div>
