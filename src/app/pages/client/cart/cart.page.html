<div class="rounded-2xl border border-slate-800 bg-slate-900 p-4">
  <div class="flex items-center justify-between">
    <div>
      <div class="text-lg font-semibold">Cart</div>
      <div class="text-xs text-slate-400">Review items</div>
    </div>

    <a class="rounded-lg bg-emerald-600 px-3 py-2 text-xs font-semibold text-white hover:bg-emerald-500"
       routerLink="/client/checkout">
      Checkout
    </a>
  </div>

  <div class="mt-3 grid gap-3">
    <div class="overflow-x-auto rounded-xl border border-slate-800">
      <table class="w-full text-sm">
        <thead class="bg-slate-950 text-slate-300">
        <tr>
          <th class="px-3 py-2 text-left">Producto</th>
          <th class="px-3 py-2 text-left">Precio</th>
          <th class="px-3 py-2 text-left">Cantidad</th>
          <th class="px-3 py-2 text-left">Subtotal</th>
          <th class="px-3 py-2 text-right">Action</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-slate-800">
        <tr *ngFor="let it of cart.items()">
          <td class="px-3 py-2">{{ it.descripcion }}</td>
          <td class="px-3 py-2">{{ it.precio }}</td>
          <td class="px-3 py-2">
            <input
              (input)="onQtyChange(it.producto_id, ($any($event.target)).value)"
              [value]="it.cantidad"
              class="w-24 rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 text-sm outline-none"
              type="number"
            />
          </td>
          <td class="px-3 py-2">{{ it.precio * it.cantidad }}</td>
          <td class="px-3 py-2 text-right">
            <button (click)="cart.remove(it.producto_id)"
                    class="rounded-lg border border-slate-700 bg-slate-800 px-3 py-1 text-xs hover:bg-slate-700"
                    type="button">
              Remove
            </button>
          </td>
        </tr>

        <tr *ngIf="cart.items().length === 0">
          <td class="px-3 py-4 text-center text-slate-400" colspan="5">Cart empty</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950 p-3 text-sm">
      <div class="text-slate-300">Total</div>
      <div class="font-semibold">{{ cart.total() }}</div>
    </div>

    <button
      (click)="cart.clear()"
      *ngIf="cart.items().length > 0"
      class="rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-xs hover:bg-slate-700"
      type="button"
    >
      Clear cart
    </button>
  </div>
</div>
