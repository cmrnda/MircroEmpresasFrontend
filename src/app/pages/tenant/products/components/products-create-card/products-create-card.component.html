<div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
  <div class="flex items-center justify-between">
    <div>
      <div class="text-lg font-semibold">Nuevo producto</div>
      <div class="text-sm text-slate-500">Crea un producto en una categoria</div>
    </div>
    <span class="material-symbols-outlined text-slate-400">inventory_2</span>
  </div>

  <form (ngSubmit)="submit()" [formGroup]="form" class="mt-4 space-y-3">
    <div class="space-y-1">
      <label class="text-sm font-medium text-slate-700">Categoria</label>
      <select
        class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
        formControlName="categoria_id"
      >
        <option [ngValue]="null">Seleccionar</option>
        <option *ngFor="let c of categories" [ngValue]="c.categoria_id">{{ c.categoria_id }} - {{ c.nombre }}</option>
      </select>
    </div>

    <div class="space-y-1">
      <label class="text-sm font-medium text-slate-700">Codigo</label>
      <input
        class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
        formControlName="codigo"
        placeholder="Ej: P-001"
        type="text"
      />
    </div>

    <div class="space-y-1">
      <label class="text-sm font-medium text-slate-700">Descripcion</label>
      <input
        class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
        formControlName="descripcion"
        placeholder="Ej: Coca cola 500ml"
        type="text"
      />
    </div>

    <div class="grid grid-cols-1 gap-2 sm:grid-cols-2">
      <div class="space-y-1">
        <label class="text-sm font-medium text-slate-700">Precio</label>
        <input
          class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
          formControlName="precio"
          step="0.01"
          type="number"
        />
      </div>

      <div class="space-y-1">
        <label class="text-sm font-medium text-slate-700">Stock minimo</label>
        <input
          class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
          formControlName="stock_min"
          step="1"
          type="number"
        />
      </div>
    </div>

    <div class="space-y-1">
      <label class="text-sm font-medium text-slate-700">Stock</label>
      <input
        class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
        formControlName="stock"
        step="0.001"
        type="number"
      />
    </div>

    <div class="space-y-1">
      <label class="text-sm font-medium text-slate-700">URL imagen</label>
      <input
        class="w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:border-slate-400 focus:ring-2 focus:ring-slate-200"
        formControlName="image_url"
        placeholder="https://..."
        type="text"
      />
    </div>

    <button
      [disabled]="loading || form.invalid"
      class="w-full inline-flex items-center justify-center gap-2 rounded-lg bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:opacity-60 disabled:cursor-not-allowed"
      type="submit"
    >
      <span class="material-symbols-outlined text-base">add</span>
      Crear
    </button>

    <div *ngIf="error" class="rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700">
      {{ error }}
    </div>
  </form>
</div>
