<div class="space-y-4">
  <div class="flex items-end justify-between">
    <div>
      <div class="text-xl font-semibold">Tenants</div>
      <div class="text-sm text-slate-400">platform admin</div>
    </div>
    <button (click)="reload()"
            [disabled]="loading()" class="rounded-lg border border-slate-800 bg-slate-900 px-3 py-2 text-sm hover:bg-slate-800">
      Reload
    </button>
  </div>

  <div class="rounded-2xl border border-slate-800 bg-slate-900 p-4">
    <form (ngSubmit)="create()" [formGroup]="form" class="grid gap-3 md:grid-cols-5">
      <input class="rounded-lg border border-slate-800 bg-slate-950 px-3 py-2 outline-none focus:border-slate-600"
             formControlName="nombre" placeholder="nombre"/>
      <input class="rounded-lg border border-slate-800 bg-slate-950 px-3 py-2 outline-none focus:border-slate-600"
             formControlName="nit" placeholder="nit"/>
      <input class="rounded-lg border border-slate-800 bg-slate-950 px-3 py-2 outline-none focus:border-slate-600"
             formControlName="adminEmail" placeholder="admin email"/>
      <input class="rounded-lg border border-slate-800 bg-slate-950 px-3 py-2 outline-none focus:border-slate-600"
             formControlName="adminPassword" placeholder="admin password" type="password"/>
      <button
        [disabled]="loading()"
        class="rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold text-slate-950 hover:bg-white disabled:opacity-60" type="submit">
        Create
      </button>
    </form>

    <div *ngIf="error()" class="mt-3 rounded-lg border border-red-900/40 bg-red-950/40 px-3 py-2 text-sm text-red-200">
      {{ error() }}
    </div>
  </div>

  <div class="overflow-hidden rounded-2xl border border-slate-800">
    <table class="w-full border-collapse bg-slate-950">
      <thead class="bg-slate-900">
      <tr class="text-left text-sm text-slate-300">
        <th class="px-4 py-3">id</th>
        <th class="px-4 py-3">nombre</th>
        <th class="px-4 py-3">nit</th>
        <th class="px-4 py-3">estado</th>
        <th class="px-4 py-3">actions</th>
      </tr>
      </thead>
      <tbody class="text-sm">
      <tr *ngFor="let t of tenants()" class="border-t border-slate-800">
        <td class="px-4 py-3">{{ t.empresa_id }}</td>
        <td class="px-4 py-3">{{ t.nombre }}</td>
        <td class="px-4 py-3">{{ t.nit || '' }}</td>
        <td class="px-4 py-3">{{ t.estado }}</td>
        <td class="px-4 py-3">
          <button (click)="remove(t.empresa_id)"
                  [disabled]="loading()" class="rounded-lg border border-slate-800 bg-slate-900 px-3 py-2 hover:bg-slate-800">
            Delete
          </button>
        </td>
      </tr>
      <tr *ngIf="tenants().length === 0" class="border-t border-slate-800">
        <td class="px-4 py-6 text-slate-400" colspan="5">no data</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
